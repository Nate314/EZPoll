{"remainingRequest":"C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\src\\components\\NotFound.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\src\\components\\NotFound.vue","mtime":1590443124709},{"path":"C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgKiBhcyBlenBvbGxhcGkgZnJvbSAnLi4vc2VydmljZXMvZXpwb2xsLnNlcnZpY2UnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdOb3RGb3VuZCcsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRvdHNpbnRlcnZhbDogbnVsbCwNCiAgICAgIGRvdHM6IFtdLA0KICAgICAgbG9hZGluZzogdHJ1ZQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHdhaXRGb3JMb2NhbFN0b3JhZ2VJdGVtOiBmdW5jdGlvbihsc2tleSwgY2FsbGJhY2spIHsNCiAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gew0KICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0obHNrZXkpKSB7DQogICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7DQogICAgICAgICAgY2FsbGJhY2sgPyBjYWxsYmFjaygpIDogdW5kZWZpbmVkOw0KICAgICAgICB9DQogICAgICB9LCAxMDApOw0KICAgIH0sDQogICAgcm91dGVCYXNlZE9uTG9jYWxTdG9yYWdlOiBmdW5jdGlvbigpIHsNCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICBjb25zdCBhcGlfdXJsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FwaV91cmwnKTsNCiAgICAgICAgY29uc3QgdXNlcl9ndWlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfZ3VpZCcpOw0KICAgICAgICBjb25zdCBzZXNzaW9uX2d1aWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2Vzc2lvbl9ndWlkJyk7DQogICAgICAgIGlmICghYXBpX3VybCB8fCAhdXNlcl9ndWlkIHx8ICFzZXNzaW9uX2d1aWQpIHsNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnaG9tZScpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCdxdWVzdGlvbicpOw0KICAgICAgICB9DQogICAgICB9LCAxMDAwKTsNCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5kb3RzaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgICB0aGlzLmRvdHMgPSBBcnJheSgodGhpcy5kb3RzLmxlbmd0aCArIDEpICUgNCkuZmlsbChudWxsKTsNCiAgICB9LCAyNTApOw0KICAgIGNvbnN0IHBhdGggPSB0aGlzLiRyb3V0ZS5mdWxsUGF0aDsNCiAgICBjb25zb2xlLmxvZyhwYXRoKTsNCiAgICBjb25zdCByb3V0ZSA9IHBhdGguc3BsaXQoJy8nKTsNCiAgICBpZiAocm91dGUubGVuZ3RoID09IDIgJiYgcm91dGVbMV0ubGVuZ3RoID09PSAzNikgew0KICAgICAgY29uc3QgY2FuZGlkYXRlX3Nlc3Npb25fZ3VpZCA9IHJvdXRlWzFdOw0KICAgICAgdGhpcy53YWl0Rm9yTG9jYWxTdG9yYWdlSXRlbSgnYXBpX3VybCcsICgpID0+IHsNCiAgICAgICAgZXpwb2xsYXBpLmdldFNlc3Npb24oY2FuZGlkYXRlX3Nlc3Npb25fZ3VpZCwgcmVzcG9uc2UgPT4gew0KICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5TZXNzaW9uR1VJRCkgew0KICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Nlc3Npb25fZ3VpZCcsIGNhbmRpZGF0ZV9zZXNzaW9uX2d1aWQpOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnc2Vzc2lvbl9ndWlkJyk7DQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMud2FpdEZvckxvY2FsU3RvcmFnZUl0ZW0oJ3VzZXJfZ3VpZCcsICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMucm91dGVCYXNlZE9uTG9jYWxTdG9yYWdlKCk7DQogICAgICAgICAgfSk7DQogICAgICAgIH0pOw0KICAgICAgfSk7DQogICAgfSBlbHNlIGlmIChwYXRoID09PSAnLycpIHsNCiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzZXNzaW9uX2d1aWQnKTsNCiAgICAgIHRoaXMucm91dGVCYXNlZE9uTG9jYWxTdG9yYWdlKCk7DQogICAgfSBlbHNlIHsNCiAgICAgIHRoaXMucm91dGVCYXNlZE9uTG9jYWxTdG9yYWdlKCk7DQogICAgfQ0KICB9LA0KICBiZWZvcmVEZXN0cm95KCkgew0KICAgIGNsZWFySW50ZXJ2YWwodGhpcy5kb3RzaW50ZXJ2YWwpOw0KICB9DQp9DQo="},{"version":3,"sources":["NotFound.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NotFound.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <h1 v-if=\"!loading\">\r\n      404\r\n    </h1>\r\n    <h1 v-if=\"loading\">\r\n      <span>loading</span>\r\n      <span v-for=\"i in dots\" :key=\"i\"> .</span>\r\n    </h1>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as ezpollapi from '../services/ezpoll.service';\r\n\r\nexport default {\r\n  name: 'NotFound',\r\n  data() {\r\n    return {\r\n      dotsinterval: null,\r\n      dots: [],\r\n      loading: true\r\n    }\r\n  },\r\n  methods: {\r\n    waitForLocalStorageItem: function(lskey, callback) {\r\n      const interval = setInterval(() => {\r\n        if (localStorage.getItem(lskey)) {\r\n          clearInterval(interval);\r\n          callback ? callback() : undefined;\r\n        }\r\n      }, 100);\r\n    },\r\n    routeBasedOnLocalStorage: function() {\r\n      setTimeout(() => {\r\n        const api_url = localStorage.getItem('api_url');\r\n        const user_guid = localStorage.getItem('user_guid');\r\n        const session_guid = localStorage.getItem('session_guid');\r\n        if (!api_url || !user_guid || !session_guid) {\r\n          this.$router.push('home');\r\n        } else {\r\n          this.$router.push('question');\r\n        }\r\n      }, 1000);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.dotsinterval = setInterval(() => {\r\n      this.dots = Array((this.dots.length + 1) % 4).fill(null);\r\n    }, 250);\r\n    const path = this.$route.fullPath;\r\n    console.log(path);\r\n    const route = path.split('/');\r\n    if (route.length == 2 && route[1].length === 36) {\r\n      const candidate_session_guid = route[1];\r\n      this.waitForLocalStorageItem('api_url', () => {\r\n        ezpollapi.getSession(candidate_session_guid, response => {\r\n          if (response && response.SessionGUID) {\r\n            localStorage.setItem('session_guid', candidate_session_guid);\r\n          } else {\r\n            localStorage.removeItem('session_guid');\r\n          }\r\n          this.waitForLocalStorageItem('user_guid', () => {\r\n            this.routeBasedOnLocalStorage();\r\n          });\r\n        });\r\n      });\r\n    } else if (path === '/') {\r\n      localStorage.removeItem('session_guid');\r\n      this.routeBasedOnLocalStorage();\r\n    } else {\r\n      this.routeBasedOnLocalStorage();\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    clearInterval(this.dotsinterval);\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"]}]}