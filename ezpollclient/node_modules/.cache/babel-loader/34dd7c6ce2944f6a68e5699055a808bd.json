{"remainingRequest":"C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\src\\components\\NotFound.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\src\\components\\NotFound.vue","mtime":1590443124709},{"path":"C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Natha\\Documents\\Development\\HTML\\ezpoll\\ezpollclient\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgZXpwb2xsYXBpIGZyb20gJy4uL3NlcnZpY2VzL2V6cG9sbC5zZXJ2aWNlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdOb3RGb3VuZCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRvdHNpbnRlcnZhbDogbnVsbCwKICAgICAgZG90czogW10sCiAgICAgIGxvYWRpbmc6IHRydWUKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICB3YWl0Rm9yTG9jYWxTdG9yYWdlSXRlbTogZnVuY3Rpb24gd2FpdEZvckxvY2FsU3RvcmFnZUl0ZW0obHNrZXksIGNhbGxiYWNrKSB7CiAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0obHNrZXkpKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTsKICAgICAgICAgIGNhbGxiYWNrID8gY2FsbGJhY2soKSA6IHVuZGVmaW5lZDsKICAgICAgICB9CiAgICAgIH0sIDEwMCk7CiAgICB9LAogICAgcm91dGVCYXNlZE9uTG9jYWxTdG9yYWdlOiBmdW5jdGlvbiByb3V0ZUJhc2VkT25Mb2NhbFN0b3JhZ2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgYXBpX3VybCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhcGlfdXJsJyk7CiAgICAgICAgdmFyIHVzZXJfZ3VpZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyX2d1aWQnKTsKICAgICAgICB2YXIgc2Vzc2lvbl9ndWlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Nlc3Npb25fZ3VpZCcpOwoKICAgICAgICBpZiAoIWFwaV91cmwgfHwgIXVzZXJfZ3VpZCB8fCAhc2Vzc2lvbl9ndWlkKSB7CiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJ2hvbWUnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCdxdWVzdGlvbicpOwogICAgICAgIH0KICAgICAgfSwgMTAwMCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgdGhpcy5kb3RzaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzMi5kb3RzID0gQXJyYXkoKF90aGlzMi5kb3RzLmxlbmd0aCArIDEpICUgNCkuZmlsbChudWxsKTsKICAgIH0sIDI1MCk7CiAgICB2YXIgcGF0aCA9IHRoaXMuJHJvdXRlLmZ1bGxQYXRoOwogICAgY29uc29sZS5sb2cocGF0aCk7CiAgICB2YXIgcm91dGUgPSBwYXRoLnNwbGl0KCcvJyk7CgogICAgaWYgKHJvdXRlLmxlbmd0aCA9PSAyICYmIHJvdXRlWzFdLmxlbmd0aCA9PT0gMzYpIHsKICAgICAgdmFyIGNhbmRpZGF0ZV9zZXNzaW9uX2d1aWQgPSByb3V0ZVsxXTsKICAgICAgdGhpcy53YWl0Rm9yTG9jYWxTdG9yYWdlSXRlbSgnYXBpX3VybCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICBlenBvbGxhcGkuZ2V0U2Vzc2lvbihjYW5kaWRhdGVfc2Vzc2lvbl9ndWlkLCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5TZXNzaW9uR1VJRCkgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2Vzc2lvbl9ndWlkJywgY2FuZGlkYXRlX3Nlc3Npb25fZ3VpZCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnc2Vzc2lvbl9ndWlkJyk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMyLndhaXRGb3JMb2NhbFN0b3JhZ2VJdGVtKCd1c2VyX2d1aWQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMi5yb3V0ZUJhc2VkT25Mb2NhbFN0b3JhZ2UoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAocGF0aCA9PT0gJy8nKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzZXNzaW9uX2d1aWQnKTsKICAgICAgdGhpcy5yb3V0ZUJhc2VkT25Mb2NhbFN0b3JhZ2UoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMucm91dGVCYXNlZE9uTG9jYWxTdG9yYWdlKCk7CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLmRvdHNpbnRlcnZhbCk7CiAgfQp9Ow=="},{"version":3,"sources":["NotFound.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAaA,OAAA,KAAA,SAAA,MAAA,4BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,uBAAA,EAAA,iCAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,QAAA,GAAA,WAAA,CAAA,YAAA;AACA,YAAA,YAAA,CAAA,OAAA,CAAA,KAAA,CAAA,EAAA;AACA,UAAA,aAAA,CAAA,QAAA,CAAA;AACA,UAAA,QAAA,GAAA,QAAA,EAAA,GAAA,SAAA;AACA;AACA,OALA,EAKA,GALA,CAAA;AAMA,KARA;AASA,IAAA,wBAAA,EAAA,oCAAA;AAAA;;AACA,MAAA,UAAA,CAAA,YAAA;AACA,YAAA,OAAA,GAAA,YAAA,CAAA,OAAA,CAAA,SAAA,CAAA;AACA,YAAA,SAAA,GAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA;AACA,YAAA,YAAA,GAAA,YAAA,CAAA,OAAA,CAAA,cAAA,CAAA;;AACA,YAAA,CAAA,OAAA,IAAA,CAAA,SAAA,IAAA,CAAA,YAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,MAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,UAAA;AACA;AACA,OATA,EASA,IATA,CAAA;AAUA;AApBA,GATA;AA+BA,EAAA,OA/BA,qBA+BA;AAAA;;AACA,SAAA,YAAA,GAAA,WAAA,CAAA,YAAA;AACA,MAAA,MAAA,CAAA,IAAA,GAAA,KAAA,CAAA,CAAA,MAAA,CAAA,IAAA,CAAA,MAAA,GAAA,CAAA,IAAA,CAAA,CAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,KAFA,EAEA,GAFA,CAAA;AAGA,QAAA,IAAA,GAAA,KAAA,MAAA,CAAA,QAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,QAAA,KAAA,GAAA,IAAA,CAAA,KAAA,CAAA,GAAA,CAAA;;AACA,QAAA,KAAA,CAAA,MAAA,IAAA,CAAA,IAAA,KAAA,CAAA,CAAA,CAAA,CAAA,MAAA,KAAA,EAAA,EAAA;AACA,UAAA,sBAAA,GAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAAA,uBAAA,CAAA,SAAA,EAAA,YAAA;AACA,QAAA,SAAA,CAAA,UAAA,CAAA,sBAAA,EAAA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,IAAA,QAAA,CAAA,WAAA,EAAA;AACA,YAAA,YAAA,CAAA,OAAA,CAAA,cAAA,EAAA,sBAAA;AACA,WAFA,MAEA;AACA,YAAA,YAAA,CAAA,UAAA,CAAA,cAAA;AACA;;AACA,UAAA,MAAA,CAAA,uBAAA,CAAA,WAAA,EAAA,YAAA;AACA,YAAA,MAAA,CAAA,wBAAA;AACA,WAFA;AAGA,SATA;AAUA,OAXA;AAYA,KAdA,MAcA,IAAA,IAAA,KAAA,GAAA,EAAA;AACA,MAAA,YAAA,CAAA,UAAA,CAAA,cAAA;AACA,WAAA,wBAAA;AACA,KAHA,MAGA;AACA,WAAA,wBAAA;AACA;AACA,GA1DA;AA2DA,EAAA,aA3DA,2BA2DA;AACA,IAAA,aAAA,CAAA,KAAA,YAAA,CAAA;AACA;AA7DA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <h1 v-if=\"!loading\">\r\n      404\r\n    </h1>\r\n    <h1 v-if=\"loading\">\r\n      <span>loading</span>\r\n      <span v-for=\"i in dots\" :key=\"i\"> .</span>\r\n    </h1>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as ezpollapi from '../services/ezpoll.service';\r\n\r\nexport default {\r\n  name: 'NotFound',\r\n  data() {\r\n    return {\r\n      dotsinterval: null,\r\n      dots: [],\r\n      loading: true\r\n    }\r\n  },\r\n  methods: {\r\n    waitForLocalStorageItem: function(lskey, callback) {\r\n      const interval = setInterval(() => {\r\n        if (localStorage.getItem(lskey)) {\r\n          clearInterval(interval);\r\n          callback ? callback() : undefined;\r\n        }\r\n      }, 100);\r\n    },\r\n    routeBasedOnLocalStorage: function() {\r\n      setTimeout(() => {\r\n        const api_url = localStorage.getItem('api_url');\r\n        const user_guid = localStorage.getItem('user_guid');\r\n        const session_guid = localStorage.getItem('session_guid');\r\n        if (!api_url || !user_guid || !session_guid) {\r\n          this.$router.push('home');\r\n        } else {\r\n          this.$router.push('question');\r\n        }\r\n      }, 1000);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.dotsinterval = setInterval(() => {\r\n      this.dots = Array((this.dots.length + 1) % 4).fill(null);\r\n    }, 250);\r\n    const path = this.$route.fullPath;\r\n    console.log(path);\r\n    const route = path.split('/');\r\n    if (route.length == 2 && route[1].length === 36) {\r\n      const candidate_session_guid = route[1];\r\n      this.waitForLocalStorageItem('api_url', () => {\r\n        ezpollapi.getSession(candidate_session_guid, response => {\r\n          if (response && response.SessionGUID) {\r\n            localStorage.setItem('session_guid', candidate_session_guid);\r\n          } else {\r\n            localStorage.removeItem('session_guid');\r\n          }\r\n          this.waitForLocalStorageItem('user_guid', () => {\r\n            this.routeBasedOnLocalStorage();\r\n          });\r\n        });\r\n      });\r\n    } else if (path === '/') {\r\n      localStorage.removeItem('session_guid');\r\n      this.routeBasedOnLocalStorage();\r\n    } else {\r\n      this.routeBasedOnLocalStorage();\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    clearInterval(this.dotsinterval);\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"],"sourceRoot":"src/components"}]}